import{o as n,c as s,d as a}from"./app.0bfd9210.js";const t='{"title":"React-09 项目优化、项目坑","description":"","frontmatter":{},"headers":[{"level":2,"title":"一、项目优化","slug":"一、项目优化"},{"level":3,"title":"减少标签","slug":"减少标签"},{"level":3,"title":"严格模式","slug":"严格模式"},{"level":3,"title":"重复渲染问题","slug":"重复渲染问题"},{"level":3,"title":"关于首屏加载慢","slug":"关于首屏加载慢"},{"level":3,"title":"长列表优化","slug":"长列表优化"},{"level":3,"title":"错误边界处理","slug":"错误边界处理"},{"level":3,"title":"路由按需加载","slug":"路由按需加载"},{"level":2,"title":"二、项目坑","slug":"二、项目坑"},{"level":3,"title":"ios输入框导致页面上移","slug":"ios输入框导致页面上移"},{"level":2,"title":"三、ant mobile的示例","slug":"三、ant-mobile的示例"}],"relativePath":"src/frontend/React/react-09 项目优化、项目坑.md","lastUpdated":1615699976068}',p={},o=a('<h1 id="react-09-项目优化、项目坑"><a class="header-anchor" href="#react-09-项目优化、项目坑" aria-hidden="true">#</a> React-09 项目优化、项目坑</h1><h2 id="一、项目优化"><a class="header-anchor" href="#一、项目优化" aria-hidden="true">#</a> 一、项目优化</h2><h3 id="减少标签"><a class="header-anchor" href="#减少标签" aria-hidden="true">#</a> 减少标签</h3><p><code>&lt;&gt;&lt;/&gt;</code>可以使用空标签，当输入的为空标签时，渲染的默认是<code>&lt;React.Fragment&gt;&lt;/React.Fragment&gt;</code></p><h3 id="严格模式"><a class="header-anchor" href="#严格模式" aria-hidden="true">#</a> 严格模式</h3><p><code>React.StrictMode</code>：</p><p>严格模式只在开发模式下运行，不会与生产模式冲突，可以在任何地方使用，如同Fragment；</p><p>Strict mode有助于：</p><ul><li>识别具有不安全生命周期的组件</li><li>有关旧式字符串ref用法的警告（使用第三方库很难确保不使用这些生命周期的方法，加上这个可以帮忙判断）</li><li>关于已弃用的findDOMNode用法的警告（findDOMNode是传入一个ref则可以获取真实dom元素）</li><li>检测意外的副作用</li><li>检测遗留的context API</li></ul><h3 id="重复渲染问题"><a class="header-anchor" href="#重复渲染问题" aria-hidden="true">#</a> 重复渲染问题</h3><ol><li>使用shouldComponentUpdate来解决</li></ol><div class="language-jsx"><pre><code><span class="token function">shuldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span>nextState</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>num <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token boolean">false</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token boolean">true</span>\n<span class="token punctuation">}</span>\n</code></pre></div><ol start="2"><li>使用PureComponent来解决，替换component为PureComponent，因为PureComponent会对数据进行比较</li></ol><div class="language-jsx"><pre><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 会根据props是否变化, 来解决重复渲染</span>\n</code></pre></div><ol start="3"><li>函数组件使用memo包裹；</li></ol><div class="language-jsx"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">const</span> App2 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n</code></pre></div><h3 id="关于首屏加载慢"><a class="header-anchor" href="#关于首屏加载慢" aria-hidden="true">#</a> 关于首屏加载慢</h3><p>下载骨架屏：<a href="https://github.com/danilowoz/react-content-loader#examples" target="_blank" rel="noopener noreferrer">https://github.com/danilowoz/react-content-loader#examples</a></p><p>使用ReactDOMServer来加载首屏；</p><h3 id="长列表优化"><a class="header-anchor" href="#长列表优化" aria-hidden="true">#</a> 长列表优化</h3><p>使用官方推荐的长列表：react-window；</p><h3 id="错误边界处理"><a class="header-anchor" href="#错误边界处理" aria-hidden="true">#</a> 错误边界处理</h3><p>（1）创建一个文件ErrorBoundary.js，写入以下内容</p><div class="language-jsx"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ErrorBoundary</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    state <span class="token operator">=</span> <span class="token punctuation">{</span>\n        hasError<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n        error<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n        errorInfo<span class="token operator">:</span> <span class="token keyword">null</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// 子元素发生错误时执行该事件</span>\n    <span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span>errorInfo</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            hasError<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            error<span class="token punctuation">,</span>\n            errorInfo\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token comment">// 出错渲染render方法,render在使用该组件时定义</span>\n            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>error<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>errorInfo<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">// 没有出错则渲染子元素, 当子元素出错会触发compnentDidCatch</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>（2）使用该组件</p><div class="language-jsx"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorBoundary</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">出错了</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">哈哈</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h3 id="路由按需加载"><a class="header-anchor" href="#路由按需加载" aria-hidden="true">#</a> 路由按需加载</h3><ol><li>安装：<code>react-loadable</code></li><li>使用</li></ol><div class="language-jsx"><pre><code><span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">&#39;react-loadable&#39;</span> <span class="token comment">// 引入按需加载</span>\n<span class="token keyword">import</span> Loading <span class="token keyword">from</span> <span class="token string">&#39;@/common/Loading&#39;</span> <span class="token comment">// 引入loading组件, 加载组件时显示</span>\n<span class="token keyword">const</span> SelectComponent <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token function-variable function">loader</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/components/Select&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    loading<span class="token operator">:</span> Loading\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><h2 id="二、项目坑"><a class="header-anchor" href="#二、项目坑" aria-hidden="true">#</a> 二、项目坑</h2><ol><li>在声明state时，初始化不要使用null，将null换为空字符串则不会报错；</li></ol><p>在有使用请求数据，数据为对象时，获取对象里面的对象会报错，可以在render(){}的return前面判断一下，如果没有数据，则return</p><div class="language-js"><pre><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">// 则不会执行下面的;</span>\n\n<span class="token comment">// 请求数组没有数据同理</span>\n<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">//true必须填写 否则报错;</span>\n</code></pre></div><ol start="2"><li><p>不要操作innerHTML，在html代码里面填写三目运算符;</p></li><li><p>在做项目时，需要状态的东西要定义state，不然每次渲染会重新声明，无法保存</p></li><li><p>解决项目需要点击两次的问题（所有两次都可以通过定时器解决）</p></li></ol><p>原因：是因为第一次没有拿到数据就去渲染了，所以数据不是最新的，延时一下就解决了；</p><p><img src="https://notecdn.heny.vip/images/react-09_%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E3%80%81%E9%A1%B9%E7%9B%AE%E5%9D%91-01.png" alt="image"></p><h3 id="ios输入框导致页面上移"><a class="header-anchor" href="#ios输入框导致页面上移" aria-hidden="true">#</a> ios输入框导致页面上移</h3><p>将以下代码放到生命周期DidMount里面</p><div class="language-jsx"><pre><code><span class="token keyword">let</span> timer\n<span class="token keyword">const</span> <span class="token function-variable function">inputBlur</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      timer<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>\n        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> <span class="token function-variable function">inputFocus</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n   <span class="token keyword">if</span><span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>current<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n父元素<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;focusout&#39;</span><span class="token punctuation">,</span>inputBlur<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>\n父元素<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;focusin&#39;</span><span class="token punctuation">,</span> inputFocus<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>\n</code></pre></div><ol start="6"><li>解决 <code>Can&#39;t perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method</code> 报红</li></ol><p>原因：在willMount中有setState的事件，</p><div class="language-jsx"><pre><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    _isMounted <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_isMounted <span class="token operator">=</span> <span class="token boolean">true</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_isMounted <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_isMounted <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>常发生场景：</p><ul><li>定时器</li><li>网络请求</li><li>事件监听</li></ul><p>在组件销毁前都应得到相应的处理</p><p>例子可以使用这个定时器触发</p><div class="language-jsx"><pre><code><span class="token keyword">const</span> MyApi <span class="token operator">=</span> <span class="token punctuation">{</span>\n    count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>intervalId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n            <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">unSubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalId<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div><ol start="7"><li>解决链接出现callback is not defined</li></ol><p>在window上面添加一个callback方法即可；</p><div class="language-jsx"><pre><code>window<span class="token punctuation">.</span><span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n</code></pre></div><h2 id="三、ant-mobile的示例"><a class="header-anchor" href="#三、ant-mobile的示例" aria-hidden="true">#</a> 三、ant mobile的示例</h2><p>下拉刷新</p><div class="language-jsx"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>PullToRefresh<span class="token punctuation">,</span> ListView<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;antd-mobile&#39;</span>\n<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>\n        <span class="token keyword">const</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListView<span class="token punctuation">.</span>DataSource</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          <span class="token function-variable function">rowHasChanged</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">row1<span class="token punctuation">,</span> row2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> row1 <span class="token operator">!==</span> row2\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>pageNo <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 当前页数 放this对象不放state里面，可以进行直接修改操作</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>isMore <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 是否更多</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>\n            dataSource<span class="token punctuation">,</span>\n            refreshing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            isLoading<span class="token operator">:</span> <span class="token boolean">false</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n                &lt;ListView\n                    dataSource=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>dataSource<span class="token punctuation">}</span><span class="token plain-text">\n                    onEndReachedThreshold=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span><span class="token plain-text"> // 触发加载函数\n                    renderFooter=</span><span class="token punctuation">{</span><span class="token string">&#39;ReactNode节点&#39;</span><span class="token punctuation">}</span><span class="token plain-text"> // 渲染底部，可以根据判断来渲染刷新时显示的内容\n                    renderRow=</span><span class="token punctuation">{</span><span class="token parameter">rowData</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">rowData.title</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"> // 每行展示的节点\n                    pullToRefresh=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PullToRefresh</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text"> // 下拉组件\n                    onEndReached=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onEndReached<span class="token punctuation">}</span><span class="token plain-text"> // 加载时的组件, 当return则请求完毕结束\n                    pageSize=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token plain-text"> // 每次事件函数渲染的行数\n\n                &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ListView</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div>',53);p.render=function(a,t,p,e,c,l){return n(),s("div",null,[o])};export default p;export{t as __pageData};
